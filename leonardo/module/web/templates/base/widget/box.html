{% load applicationcontent_tags %}

{% include "base/widget/_common.html" %}

<div id="{{ widget.fe_identifier }}" class="panel box box-solid fe_box leonardo-widget leonardo-{{ widget.widget_name }}-widget {{ widget.render_box_classes }}">
  <div class="ui-helper-clearfix leonardo-content template-{{ widget.theme.label }} {{ widget.widget_name }}-{{ widget.theme.label }}">
    {% block title %}
    {% if widget.label or request.frontend_editing %}
    <div class="panel-heading box-header with-border">
      {% if widget.label %}
      <a id="{{ widget.label|slugify }}"></a>
      <h3 class="panel-title"><span>{{ widget.label }}</span></h3>
      {% endif %}
      {% if request.frontend_editing %}
      <div class="box-tools pull-right">
        <div class="btn-group">
          <button data-toggle="dropdown" class="btn btn-box-tool dropdown-toggle"><i class="fa fa-wrench"></i></button>
          <ul role="menu" class="dropdown-menu">
            <li><a class="ajax-modal" href="{% url 'widget_update' widget.model_cls widget.id %}">{% trans 'Edit' %}</a></li>
            <li class="divider"></li>
            <li><a class="ajax-modal" href="{% url 'widget_delete' widget.model_cls widget.id %}">{% trans 'Delete' %}</a></li>
          </ul>
        </div>
      </div>    
      {% endif %}
    </div>
    {% endif %}
    {% endblock %}
    <div class="panel-body box-body">
      {% block content %}{% endblock %}
    </div>
  </div>
</div>


