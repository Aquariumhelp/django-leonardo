{% comment %}
<script type="text/javascript" src="/static/lib/ace/0.2.0/ace.js"></script>
<script type="text/javascript" src="/static/lib/ace/0.2.0/theme-twilight.js"></script>
<script type="text/javascript" src="/static/lib/ace/0.2.0/mode-html.js"></script>
<script type="text/javascript">
(function($) {
	contentblock_init_handlers.push(function(){
		$('.order-machine textarea[class=item-djangotemplate], #frontend_editor textarea[class=item-djangotemplate]').each(function(){
			wcms_djangotemplate_add_ace($(this));
		});
	});
})(jQuery);

var ACE_OPTIONS = {
	gutter: 'true',
	theme: "ace/theme/twilight",
	mode: "ace/mode/html"
}

var ace_added = {};

function wcms_djangotemplate_remove_ace(field) {
	var id = field.attr("id");
	if(ace_added[id]) {
		ace_added[id] = false;
	}
}

function wcms_djangotemplate_add_ace(field) {
	var id = field.attr("id");
	if(!ace_added[id]) {
		var ace = window.__ace_shadowed__;
		//editor = ace.transformTextarea(document.getElementById(id), ACE_OPTIONS);
		//editor.setDisplaySettings(true);
		//editor.setOption('gutter');
		ace_added[id] = true;

	}
}
</script>
<style type="text/css">
.item-djangotemplate { height:400px; width:100%;}
</style>
{% endcomment %}
